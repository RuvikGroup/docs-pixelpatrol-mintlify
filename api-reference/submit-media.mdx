---
title: 'Submit Media'
openapi: 'POST /submit-media'
---

Submit content for AI and rule-based moderation. Accepts text content, image URLs, or both.

## Authentication

Include your site key in the request body. No authorization headers required.

## Best Practices

1. **Use unique app_media_id**: This helps track content across your system
2. **Include metadata**: Add context to improve moderation accuracy  
3. **Handle errors gracefully**: Implement retry logic for transient failures
4. **Monitor usage**: Track your API usage against your plan limits

## Examples

### Submit an Image

<CodeGroup>

```bash cURL
curl -X POST https://api.pixelpatrol.net/functions/v1/submit-media \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "site_xxxxxxxxxxxxxxxxxxxx",
    "content_url": "https://example.com/image.jpg",
    "app_media_id": "img-123",
    "metadata": {
      "user_id": "user-456",
      "source": "profile-upload"
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.pixelpatrol.net/functions/v1/submit-media', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    api_key: 'site_xxxxxxxxxxxxxxxxxxxx',
    content_url: 'https://example.com/image.jpg',
    app_media_id: 'img-123',
    metadata: {
      user_id: 'user-456',
      source: 'profile-upload'
    }
  })
});

const result = await response.json();
```

```python Python
import requests

response = requests.post(
    'https://api.pixelpatrol.net/functions/v1/submit-media',
    json={
        'api_key': 'site_xxxxxxxxxxxxxxxxxxxx',
        'content_url': 'https://example.com/image.jpg',
        'app_media_id': 'img-123',
        'metadata': {
            'user_id': 'user-456',
            'source': 'profile-upload'
        }
    }
)

result = response.json()
```

</CodeGroup>

### Submit Text Content

<CodeGroup>

```bash cURL
curl -X POST https://api.pixelpatrol.net/functions/v1/submit-media \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "site_xxxxxxxxxxxxxxxxxxxx",
    "body": "This is the text content to moderate",
    "app_media_id": "text-789"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.pixelpatrol.net/functions/v1/submit-media', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    api_key: 'site_xxxxxxxxxxxxxxxxxxxx',
    body: 'This is the text content to moderate',
    app_media_id: 'text-789'
  })
});
```

```python Python
response = requests.post(
    'https://api.pixelpatrol.net/functions/v1/submit-media',
    json={
        'api_key': 'site_xxxxxxxxxxxxxxxxxxxx',
        'body': 'This is the text content to moderate',
        'app_media_id': 'text-789'
    }
)
```

</CodeGroup>

### Submit with Custom Rule Group

```javascript
const response = await fetch('https://api.pixelpatrol.net/functions/v1/submit-media', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    api_key: 'site_xxxxxxxxxxxxxxxxxxxx',
    content_url: 'https://example.com/image.jpg',
    app_media_id: 'img-123',
    rule_group_id: 'a1b2c3d4-e5f6-7890-1234-567890abcdef',
    metadata: {
      category: 'user-avatar'
    }
  })
});
```

## Rate Limits

- 1000 requests per minute per site key
- 10MB maximum file size for direct uploads
- 100KB maximum text content size

## Related Endpoints

- [Get Media Status](/api-reference/get-media-status) - Check moderation status
- [Webhook Notifications](/concepts/webhooks) - Receive real-time updates